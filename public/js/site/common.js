// Generated by CoffeeScript 1.6.3
(function() {
  var detectExtension;

  detectExtension = function(callback) {
    var extId, isChrome;
    detectExtension = function(extId, callback) {
      return $.ajax({
        dataType: "json",
        url: "chrome-extension://" + extId + "/manifest.json",
        success: function(result) {
          callback(null, {
            status: "success",
            extId: extId
          });
          return false;
        },
        error: function() {
          callback({
            status: "error",
            isChrome: true,
            message: "The extension wasn't detected",
            extId: extId
          });
          return false;
        }
      });
    };
    isChrome = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
    extId = "djibejkjnciejcldejbajiihmickgloe";
    if (isChrome === true) {
      return detectExtension(extId, callback);
    } else {
      return callback({
        status: "error",
        isChrome: false,
        message: "The browser should be a Chrome",
        extId: extId
      });
    }
  };

  module.exports = {
    detectExtension: detectExtension
  };

}).call(this);
